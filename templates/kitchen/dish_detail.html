{#{% extends "base.html" %}#}
{##}
{#{% block content %}#}
{#  <h1>Dish name: </h1>#}
{#    <h4>#}
{#      <em>{{ dish.name }}</em>#}
{#      <a #}
{#          href="{% url 'kitchen:dish-update' pk=dish.id %}"#}
{#      >Edit#}
{#      </a>#}
{#      #}
{#    </h4>#}
{#  <p><strong>Price: </strong>{{ dish.price }}</p>#}
{#  <p><strong>Description: </strong>{{ dish.description }}</p>#}
{#  <p style="color: red">If you want to delete this dish#}
{#    <a#}
{#        href="{% url 'kitchen:dish-delete' pk=dish.id %}"#}
{#        class="btn btn-danger"#}
{#    >CLick#}
{#    </a>#}
{#  </p>#}
{#  <div class="ml-3">#}
{#    <h3>A list of cooks to prepare the dish: </h3>#}
{#    {% for cook in dish.cooks.all %}#}
{#      <hr>#}
{#      <p class="text-muted">id: {{ cook.id }}</p>#}
{#      <p>{{ cook.first_name }} {{ cook.last_name }}#}
{#      {% if cook.years_of_experience %}#}
{#        ({{ cook.years_of_experience }} years of experience)#}
{#      {% endif %}#}
{#      </p>#}
{#    {% empty %}#}
{#      <p>No cooks!</p>#}
{#    {% endfor %}#}
{#  </div>#}
{#  {% if request.user in dish.cooks.all %}#}
{#    <form action="{% url 'kitchen:dish-assign' pk=dish.id %}" method="post">#}
{#    {% csrf_token %}#}
{#      <input type="submit" class="btn btn-danger link-to-page" value="Delete me from this dish">#}
{#    </form>#}
{#    {% else %}#}
{#    <form action="{% url 'kitchen:dish-assign' pk=dish.id %}" method="post">#}
{#    {% csrf_token %}#}
{#      <input type="submit" class="btn btn-success link-to-page" value="Assign me to this dish">#}
{#    </form>#}
{#  {% endif %}#}

{#{% endblock %}#}

{% extends "layouts/base.html" %}

{% block title %} About Dish {% endblock %}

{% block body_class %} blog-author {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

  {% include 'includes/navigation-transparent.html' %}

  <header>
    <div class="page-header min-height-400" style="background-image: url('{{ ASSETS_ROOT }}/img/city-profile.jpg');" loading="lazy">
      <span class="mask bg-gradient-dark opacity-8"></span>
    </div>
  </header>

  <div class="card card-body blur shadow-blur mx-3 mx-md-4 mt-n6 mb-4">
    <!-- START Testimonials w/ user image & text & info -->
    <section class="py-sm-7 py-5 position-relative">
      <div class="container">
        <div class="row">
          <div class="col-12 mx-auto">
            <div class="mt-n8 mt-md-n9 text-center">
              <img class="avatar avatar-xxl shadow-xl position-relative z-index-2" src="{{ ASSETS_ROOT }}/img/logo-food-detail.png" alt="bruce" loading="lazy">
            </div>
            <div class="row py-5">
              <div class="col-lg-7 col-md-7 z-index-2 position-relative px-md-2 px-sm-5 mx-auto">
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <h3 class="mb-0">{{ dish.name }}</h3>
                  <div class="d-block">
                    <button type="button" class="btn btn-sm btn-outline-info text-nowrap mb-0">
                      <a href="{% url 'kitchen:dish-update' pk=dish.id %}">Edit</a>
                    </button>
                    <button type="button" class="btn btn-sm btn-outline-danger text-nowrap mb-0">
                      <a href="{% url 'kitchen:dish-delete' pk=dish.id %}">Delete</a>
                    </button>
                  </div>
                </div>
                <div class="row mb-4">
                  <div class="col-auto">
                    <span class="h6">Price: </span>
                    <span>{{ dish.price }}</span>
                  </div>
                </div>
                <p class="text-lg mb-0">
                  {{ dish.description }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="py-3">
      <div class="container">
        <div class="row">
          <div class="col-lg-6">
            <h3 class="mb-5">A list of cooks to prepare the dish:</h3>
          </div>
        </div>
        <div class="row">
          <div class="card card-plain">
            {% for cook in dish.cooks.all %}
              <h5> Cook Name:
                <a class="text-dark font-weight-bold">{{ cook.first_name }} {{ cook.last_name }}
                  {% if user == cook %} (Me)
                  {% endif %}
                </a>
              </h5>
              <p class="text-muted">id: {{ cook.id }}
              {% if cook.years_of_experience %}
                ({{ cook.years_of_experience }} years of experience)
              {% endif %}
              </p>
            {% empty %}
              <p>No cooks!</p>
            {% endfor %}
          {% if request.user in dish.cooks.all %}
            <form action="{% url 'kitchen:dish-assign' pk=dish.id %}" method="post">
              {% csrf_token %}
              <input type="submit" class="btn btn-danger link-to-page" value="Delete me from this dish">
            </form>
          {% else %}
            <form action="{% url 'kitchen:dish-assign' pk=dish.id %}" method="post">
              {% csrf_token %}
              <input type="submit" class="btn btn-success link-to-page" value="Assign me to this dish">
            </form>
          {% endif %}
          </div>
        </div>
      </div>
    </section>
  </div>
  
{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}{% endblock javascripts %}
